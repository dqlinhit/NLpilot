<!DOCTYPE html>
<html>
<head>
    <title>Tạo Đơn Hàng Trading</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        input, select { width: 100%; margin-bottom: 10px; padding: 10px; }
        button { background-color: #2481cc; color: white; border: none; padding: 10px 20px; width: 100%; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h3>Lên Đơn Hàng Mới</h3>
    <input type="text" id="customer" placeholder="Tên khách hàng">
    <input type="text" id="product" placeholder="Mã hàng hóa">
    <input type="number" id="quantity" placeholder="Số lượng">
    <input type="number" id="price" placeholder="Đơn giá">
    <button onclick="sendOrder()">Gửi Đơn Hàng</button>

    <script>
        // Khởi tạo WebApp
        let tg = window.Telegram.WebApp;
        tg.expand(); // Mở full màn hình

        function sendOrder() {
            let data = {
                customer: document.getElementById("customer").value,
                product: document.getElementById("product").value,
                quantity: document.getElementById("quantity").value,
                price: document.getElementById("price").value,
                action: "create_order"
            };
            
            // Gửi dữ liệu ngược lại về Bot (dưới dạng JSON string)
            tg.sendData(JSON.stringify(data)); 
            
            // Đóng Mini App sau khi gửi
            tg.close();
        }
    </script>
</body>
</html>
